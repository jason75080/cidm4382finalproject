{"filter":false,"title":"comment_init.js","tooltip":"/comment_init.js","undoManager":{"mark":1,"position":1,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["/*  this is a quick Node script to generate some data ","    into the database","    */","","var mongoose = require('mongoose');","var db = mongoose.connect('mongodb://localhost/comments');","require('./models/comments_model.js');","require('./models/photo_model.js');","require('./models/page_model.js');","var CommentThread = mongoose.model('CommentThread');","var Reply = mongoose.model('Reply');","var Photo = mongoose.model('Photo');","var Page = mongoose.model('Page');","","function addPhoto(title, filename) {","    var comment = new CommentThread({","        title: title + \" Comments\"","    });","    comment.save(function(err, comment) {","        var photo = new Photo({","            title: title,","            filename: filename","        });","        photo.commentId = comment.id;","        photo.save(function() {","            console.log(title + \" Saved.\");","        });","    });","}","CommentThread.remove().exec(function() {","    Photo.remove().exec(function() {","        Page.remove().exec(function() {","            var comment = new CommentThread({","                title: \"Photo Page Comments\"","            });","            comment.save(function(err, comment) {","                var page = new Page({","                    name: \"Photos Page\"","                });","                page.commentId = comment.id;","                page.save();","            });","            addPhoto('Strength', 'arch.jpg');","            addPhoto('Power', 'pyramid.jpg');","            addPhoto('Beauty', 'flower.jpg');","            addPhoto('Thoughtful', 'lake.jpg');","            addPhoto('Summer Fun', 'volcano.jpg');","            addPhoto('Sunsets', 'jump.jpg');","        });","    });","});;"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":12},"end":{"row":47,"column":44},"action":"remove","lines":["addPhoto('Strength', 'arch.jpg');","            addPhoto('Power', 'pyramid.jpg');","            addPhoto('Beauty', 'flower.jpg');","            addPhoto('Thoughtful', 'lake.jpg');","            addPhoto('Summer Fun', 'volcano.jpg');","            addPhoto('Sunsets', 'jump.jpg');"]},{"start":{"row":42,"column":12},"end":{"row":48,"column":45},"action":"insert","lines":["addPhoto('Strength', 'arch.jpg');","            addPhoto('Power', 'pyramid.jpg');","            addPhoto('Beauty', 'flower.jpg');","            addPhoto('Thoughtful', 'lake.jpg');","            addPhoto('Summer Fun', 'volcano.jpg');","            addPhoto('Sunsets', 'jump.jpg');","            addPhoto('island','island.jpeg');"]}]}]]},"ace":{"folds":[],"scrolltop":300,"scrollleft":0,"selection":{"start":{"row":48,"column":45},"end":{"row":48,"column":45},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":53,"mode":"ace/mode/javascript"}},"timestamp":1417920564292,"hash":"2bb0739d3ceaacf9c38c85487c28abdd1ecc05e8"}