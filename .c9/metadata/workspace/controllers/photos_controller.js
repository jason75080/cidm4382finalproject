{"filter":false,"title":"photos_controller.js","tooltip":"/controllers/photos_controller.js","undoManager":{"mark":36,"position":36,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":17},"action":"insert","lines":["photos_controller"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":16},"end":{"row":0,"column":17},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":15},"end":{"row":0,"column":16},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":13},"end":{"row":0,"column":14},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":12},"end":{"row":0,"column":13},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":11},"end":{"row":0,"column":12},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":10},"end":{"row":0,"column":11},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"remove","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":17},"action":"insert","lines":["photos_controller"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":16},"end":{"row":0,"column":17},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":15},"end":{"row":0,"column":16},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":13},"end":{"row":0,"column":14},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":12},"end":{"row":0,"column":13},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":11},"end":{"row":0,"column":12},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":10},"end":{"row":0,"column":11},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"remove","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":35,"column":2},"action":"insert","lines":["var mongoose = require('mongoose'),","    Photo = mongoose.model('Photo');","    ","//this is exported for external use - the routing code will call this","exports.getPhoto = function(req, res) {","    //using the Photo model, find the photo matching this id","    Photo.findOne({","            _id: req.query.photoId","        })","        .exec(function(err, photo) {","            if (!photo) {","                res.json(404, {","                    msg: 'Photo Not Found.'","                });","            }","            else {","                //send a json object in the response","                res.json(photo);","            }","        });","};","exports.getPhotos = function(req, res) {","    //this query finds all photos","    Photo.find()","        .exec(function(err, photos) {","            if (!photos) {","                res.json(404, {","                    msg: 'Photos Not Found.'","                });","            }","            else {","                //send back a collection of documents as a json object","                res.json(photos);","            }","        });","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":35,"column":2},"action":"remove","lines":["var mongoose = require('mongoose'),","    Photo = mongoose.model('Photo');","    ","//this is exported for external use - the routing code will call this","exports.getPhoto = function(req, res) {","    //using the Photo model, find the photo matching this id","    Photo.findOne({","            _id: req.query.photoId","        })","        .exec(function(err, photo) {","            if (!photo) {","                res.json(404, {","                    msg: 'Photo Not Found.'","                });","            }","            else {","                //send a json object in the response","                res.json(photo);","            }","        });","};","exports.getPhotos = function(req, res) {","    //this query finds all photos","    Photo.find()","        .exec(function(err, photos) {","            if (!photos) {","                res.json(404, {","                    msg: 'Photos Not Found.'","                });","            }","            else {","                //send back a collection of documents as a json object","                res.json(photos);","            }","        });","};"]}]}]]},"ace":{"folds":[],"scrolltop":305.5,"scrollleft":0,"selection":{"start":{"row":35,"column":2},"end":{"row":35,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":24,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1417916991073,"hash":"e28de94a55fd99742079623528b7b7425a8de436"}